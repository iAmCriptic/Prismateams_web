{# Wiederverwendbare Kommentar-Komponente
Verwendung: {% set content_type='file' %}{% set content_id=file.id %}{% include 'comments/_comments.html' %}
#}

<div id="comments-section-{{ content_type }}-{{ content_id }}" class="comments-section">
    <div class="comments-header">
        <h5>Kommentare <span class="comment-count">0 Kommentare</span></h5>
    </div>
    
    {% if current_user.is_authenticated %}
    <div class="comment-form">
        <div class="comment-input-wrapper">
            <textarea class="comment-textarea" placeholder="Kommentar schreiben... (Tipp: @Benutzer fÃ¼r Mentions, Ctrl+Enter zum Senden)"></textarea>
            <div class="comment-mention-suggestions"></div>
        </div>
        <div class="comment-form-actions">
            <button class="btn btn-primary comment-submit-btn">
                <i class="bi bi-send"></i> Kommentar senden
            </button>
        </div>
    </div>
    {% endif %}
    
    <ul class="comments-list">
        <div class="comment-loading">Lade Kommentare...</div>
    </ul>
</div>

<script>
// Initialisiere Kommentar-System
document.addEventListener('DOMContentLoaded', function() {
    const commentSystem = new CommentSystem('{{ content_type }}', {{ content_id }}, 'comments-section-{{ content_type }}-{{ content_id }}');
    window.commentSystem = commentSystem;
});
</script>

